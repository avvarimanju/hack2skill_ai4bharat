<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AvvarI for Bharat - AWS Architecture Diagram</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .architecture-container {
            background: white;
            border: 3px solid #232f3e;
            border-radius: 10px;
            padding: 30px;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }
        .aws-account {
            position: absolute;
            top: 15px;
            right: 30px;
            font-weight: bold;
            color: #232f3e;
            font-size: 14px;
        }
        .region-box {
            border: 3px dashed #ff9900;
            border-radius: 10px;
            padding: 30px;
            margin: 30px 0;
            background-color: #fff9f0;
            position: relative;
        }
        .region-label {
            position: absolute;
            top: -15px;
            left: 30px;
            background: white;
            padding: 5px 15px;
            font-weight: bold;
            color: #ff9900;
            font-size: 14px;
            border: 2px solid #ff9900;
            border-radius: 5px;
        }
        .az-box {
            border: 2px solid #ccc;
            border-radius: 8px;
            padding: 20px;
            margin: 15px;
            background-color: #f9f9f9;
            display: inline-block;
            vertical-align: top;
            width: 220px;
            position: relative;
        }
        .az-label {
            font-weight: bold;
            margin-bottom: 15px;
            color: #666;
            font-size: 13px;
            text-align: center;
        }
        .service-box {
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            text-align: center;
            box-shadow: 0 3px 6px rgba(0,0,0,0.15);
            transition: transform 0.2s;
        }
        .service-box:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        }
        .service-label {
            text-align: center;
            font-size: 11px;
            margin-top: 8px;
            font-weight: 600;
            line-height: 1.4;
        }
        .external-box {
            background: #e8f4fd;
            border: 3px solid #1976d2;
            border-radius: 10px;
            padding: 20px;
            margin: 20px auto;
            display: block;
            text-align: center;
            width: 250px;
        }
        .arrow-down {
            text-align: center;
            font-size: 32px;
            color: #ff9900;
            margin: 10px 0;
            font-weight: bold;
        }
        .arrow-right {
            display: inline-block;
            font-size: 32px;
            color: #ff9900;
            margin: 0 15px;
            vertical-align: middle;
        }
        .numbered-step {
            background: linear-gradient(135deg, #ff9900 0%, #ff6600 100%);
            color: white;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            margin: 15px auto;
            box-shadow: 0 3px 6px rgba(255, 153, 0, 0.4);
            border: 3px solid white;
        }
        .step-container {
            text-align: center;
            margin: 20px 0;
        }
        .ai-services {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border: 3px solid #f57c00;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .storage-services {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            border: 3px solid #7b1fa2;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .edge-services {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
            border: 3px solid #388e3c;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .title {
            text-align: center;
            font-size: 28px;
            font-weight: bold;
            color: #232f3e;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid #ff9900;
        }
        .section-title {
            text-align: center;
            font-weight: bold;
            margin-bottom: 20px;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .legend {
            display: flex;
            justify-content: space-around;
            margin-top: 30px;
            font-size: 13px;
            flex-wrap: wrap;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin: 5px 10px;
        }
        .legend-color {
            width: 25px;
            height: 25px;
            margin-right: 8px;
            border-radius: 4px;
            border: 2px solid #333;
        }
        .flow-description {
            background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%);
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            border: 2px solid #999;
        }
        .flow-description h3 {
            color: #232f3e;
            margin-top: 0;
            border-bottom: 2px solid #ff9900;
            padding-bottom: 10px;
        }
        .flow-description ol {
            font-size: 13px;
            line-height: 1.8;
        }
        .flow-description li {
            margin-bottom: 8px;
        }
        .flow-description strong {
            color: #ff9900;
        }
        .horizontal-flow {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <div class="architecture-container">
        <div class="aws-account">AWS Account</div>
        <div class="title">AvvarI for Bharat - Heritage Site Digitization Platform</div>
        
        <!-- External Users -->
        <div class="external-box">
            <div style="font-size: 50px;">üë•</div>
            <div style="font-size: 16px; font-weight: bold; margin-top: 10px;">Heritage Site Visitors</div>
            <div style="font-size: 13px; color: #666;">Mobile Devices</div>
        </div>
        
        <div class="step-container">
            <div class="numbered-step">1</div>
            <div class="arrow-down">‚Üì</div>
        </div>
        
        <!-- Edge Services -->
        <div class="edge-services">
            <div class="section-title" style="color: #388e3c;">Edge & Security Layer</div>
            <div class="horizontal-flow">
                <div class="service-box" style="width: 180px;">
                    <div style="background: linear-gradient(135deg, #ff9900 0%, #ff6600 100%); color: white; padding: 25px; border-radius: 10px; font-size: 30px;">üõ°Ô∏è</div>
                    <div class="service-label">AWS Shield<br/>DDoS Protection</div>
                </div>
                
                <div class="arrow-right">‚Üí</div>
                
                <div class="service-box" style="width: 180px;">
                    <div style="background: linear-gradient(135deg, #ff9900 0%, #ff6600 100%); color: white; padding: 25px; border-radius: 10px; font-size: 30px;">üåê</div>
                    <div class="service-label">Amazon CloudFront<br/>Global CDN</div>
                </div>
                
                <div class="arrow-right">‚Üí</div>
                
                <div class="service-box" style="width: 180px;">
                    <div style="background: linear-gradient(135deg, #ff9900 0%, #ff6600 100%); color: white; padding: 25px; border-radius: 10px; font-size: 30px;">üî•</div>
                    <div class="service-label">AWS WAF<br/>Web Application Firewall</div>
                </div>
            </div>
        </div>
        
        <div class="step-container">
            <div class="numbered-step">2</div>
            <div class="arrow-down">‚Üì</div>
        </div>
        
        <!-- AWS Region -->
        <div class="region-box">
            <div class="region-label">AWS Region: ap-south-1 (Mumbai)</div>
            
            <!-- API Gateway -->
            <div style="text-align: center; margin: 30px 0;">
                <div class="service-box" style="display: inline-block; width: 280px;">
                    <div style="background: linear-gradient(135deg, #ff9900 0%, #ff6600 100%); color: white; padding: 30px; border-radius: 10px; font-size: 40px;">üö™</div>
                    <div class="service-label" style="font-size: 13px;">Amazon API Gateway<br/>REST API Endpoints<br/>Authentication & Rate Limiting</div>
                </div>
            </div>
            
            <div class="step-container">
                <div class="numbered-step">3</div>
                <div class="arrow-down">‚Üì</div>
            </div>
            
            <!-- Availability Zones -->
            <div style="display: flex; justify-content: center; margin: 20px 0;">
                <!-- AZ 1 -->
                <div class="az-box">
                    <div class="az-label">Availability Zone 1a</div>
                    
                    <div class="service-box">
                        <div style="background: linear-gradient(135deg, #ff9900 0%, #ff6600 100%); color: white; padding: 20px; border-radius: 8px; font-size: 28px;">‚öôÔ∏è</div>
                        <div class="service-label">AWS Lambda<br/>All Functions<br/>(QR, Q&A, Content)</div>
                    </div>
                    
                    <div class="service-box">
                        <div style="background: linear-gradient(135deg, #3f51b5 0%, #283593 100%); color: white; padding: 20px; border-radius: 8px; font-size: 28px;">‚ö°</div>
                        <div class="service-label">Amazon DynamoDB<br/>(Multi-AZ Replica)<br/>Session & Cache</div>
                    </div>
                    
                    <div class="service-box">
                        <div style="background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%); color: white; padding: 20px; border-radius: 8px; font-size: 28px;">üóÑÔ∏è</div>
                        <div class="service-label">Amazon S3<br/>(Multi-AZ Replica)<br/>Content Storage</div>
                    </div>
                </div>
                
                <div style="display: flex; flex-direction: column; align-items: center; margin: 0 20px;">
                    <div class="arrow-right" style="font-size: 40px;">‚Üî</div>
                    <div style="font-size: 11px; color: #ff9900; font-weight: bold; margin-top: 10px; text-align: center;">Automatic<br/>Failover &<br/>Replication</div>
                </div>
                
                <!-- AZ 2 -->
                <div class="az-box">
                    <div class="az-label">Availability Zone 1b</div>
                    
                    <div class="service-box">
                        <div style="background: linear-gradient(135deg, #ff9900 0%, #ff6600 100%); color: white; padding: 20px; border-radius: 8px; font-size: 28px;">‚öôÔ∏è</div>
                        <div class="service-label">AWS Lambda<br/>All Functions<br/>(QR, Q&A, Content)</div>
                    </div>
                    
                    <div class="service-box">
                        <div style="background: linear-gradient(135deg, #3f51b5 0%, #283593 100%); color: white; padding: 20px; border-radius: 8px; font-size: 28px;">‚ö°</div>
                        <div class="service-label">Amazon DynamoDB<br/>(Multi-AZ Replica)<br/>Session & Cache</div>
                    </div>
                    
                    <div class="service-box">
                        <div style="background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%); color: white; padding: 20px; border-radius: 8px; font-size: 28px;">üóÑÔ∏è</div>
                        <div class="service-label">Amazon S3<br/>(Multi-AZ Replica)<br/>Content Storage</div>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin: 20px 0; padding: 15px; background: #fff3cd; border: 2px solid #ffc107; border-radius: 8px;">
                <strong style="color: #856404;">üí° High Availability:</strong> Both AZs contain identical services. If AZ-1a fails, traffic automatically routes to AZ-1b with zero downtime.
            </div>
            
            <div class="step-container">
                <div class="numbered-step">4</div>
                <div class="arrow-down">‚Üì</div>
            </div>
            
            <!-- AI Services -->
            <div class="ai-services">
                <div class="section-title" style="color: #f57c00;">AI/ML Services Layer</div>
                <div class="horizontal-flow">
                    <div class="service-box" style="width: 200px;">
                        <div style="background: linear-gradient(135deg, #e91e63 0%, #c2185b 100%); color: white; padding: 25px; border-radius: 10px; font-size: 35px;">üß†</div>
                        <div class="service-label">Amazon Bedrock<br/>Foundation Models<br/>Content Generation<br/>RAG System</div>
                    </div>
                    
                    <div class="arrow-right">‚Üí</div>
                    
                    <div class="service-box" style="width: 200px;">
                        <div style="background: linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%); color: white; padding: 25px; border-radius: 10px; font-size: 35px;">üó£Ô∏è</div>
                        <div class="service-label">Amazon Polly<br/>Text-to-Speech<br/>Neural Voices<br/>Indian Languages</div>
                    </div>
                    
                    <div class="arrow-right">‚Üí</div>
                    
                    <div class="service-box" style="width: 200px;">
                        <div style="background: linear-gradient(135deg, #2196f3 0%, #1565c0 100%); color: white; padding: 25px; border-radius: 10px; font-size: 35px;">üåç</div>
                        <div class="service-label">Amazon Translate<br/>Language Detection<br/>Real-time Translation</div>
                    </div>
                </div>
            </div>
            
            <div class="step-container">
                <div class="numbered-step">5</div>
                <div class="arrow-down">‚Üì</div>
            </div>
            
            <!-- Storage Services -->
            <div class="storage-services">
                <div class="section-title" style="color: #7b1fa2;">Storage & Monitoring Layer</div>
                <div class="horizontal-flow">
                    <div class="service-box" style="width: 250px;">
                        <div style="background: linear-gradient(135deg, #ff5722 0%, #d84315 100%); color: white; padding: 25px; border-radius: 10px; font-size: 35px;">üìä</div>
                        <div class="service-label">Amazon CloudWatch<br/>Metrics & Logs<br/>Performance Monitoring</div>
                    </div>
                    
                    <div class="arrow-right">‚Üí</div>
                    
                    <div class="service-box" style="width: 250px;">
                        <div style="background: linear-gradient(135deg, #795548 0%, #5d4037 100%); color: white; padding: 25px; border-radius: 10px; font-size: 35px;">üîç</div>
                        <div class="service-label">AWS X-Ray<br/>Distributed Tracing<br/>Performance Analysis</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="step-container">
            <div class="numbered-step">6</div>
            <div class="arrow-down">‚Üì</div>
        </div>
        
        <!-- Response back to user -->
        <div class="external-box" style="background: #e8f5e8; border-color: #388e3c;">
            <div style="font-size: 50px;">üì±</div>
            <div style="font-size: 16px; font-weight: bold; margin-top: 10px;">Content Delivered</div>
            <div style="font-size: 13px; color: #666;">Multimedia Experience</div>
        </div>
        
        <!-- Data Flow Description -->
        <div class="flow-description">
            <h3>üìã Data Flow Steps:</h3>
            <ol>
                <li><strong>Step 1 - User Request:</strong> Heritage site visitor scans QR code on mobile device and sends request</li>
                <li><strong>Step 2 - Security & CDN:</strong> Request passes through AWS Shield (DDoS protection), CloudFront (CDN caching), and AWS WAF (security filtering)</li>
                <li><strong>Step 3 - API Gateway:</strong> Request is routed, authenticated, validated, and rate-limited by API Gateway. Gateway automatically distributes load across both AZs</li>
                <li><strong>Step 4 - Multi-AZ Processing:</strong> Lambda functions in both AZs (identical replicas) process requests. If one AZ fails, traffic automatically routes to the healthy AZ. DynamoDB and S3 automatically replicate data across AZs for high availability</li>
                <li><strong>Step 5 - AI Processing:</strong> Bedrock generates contextual content, Polly creates audio guides, and Translate handles multilingual support (these are regional services, automatically available across AZs)</li>
                <li><strong>Step 6 - Monitoring & Storage:</strong> CloudWatch monitors performance across all AZs, X-Ray traces requests, content is stored in S3 (automatically replicated) and cached in DynamoDB (Multi-AZ)</li>
                <li><strong>Step 7 - Content Delivery:</strong> Generated multimedia content is delivered back through CloudFront CDN to the user's mobile device</li>
            </ol>
            
            <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-top: 20px; border-left: 4px solid #2196f3;">
                <h4 style="margin-top: 0; color: #1565c0;">üîÑ Multi-AZ Benefits:</h4>
                <ul style="margin-bottom: 0;">
                    <li><strong>High Availability:</strong> If AZ-1a experiences an outage, AZ-1b continues serving all requests without interruption</li>
                    <li><strong>Automatic Failover:</strong> AWS services (Lambda, DynamoDB, S3) automatically detect failures and route traffic to healthy AZ</li>
                    <li><strong>Data Replication:</strong> DynamoDB and S3 automatically replicate data across AZs in real-time</li>
                    <li><strong>Zero Downtime:</strong> Users experience no service interruption during AZ failures</li>
                    <li><strong>Load Distribution:</strong> Traffic is distributed across both AZs for better performance and resource utilization</li>
                </ul>
            </div>
        </div>
        
        <!-- Legend -->
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%); border-color: #388e3c;"></div>
                <span><strong>Edge Services</strong></span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%); border-color: #f57c00;"></div>
                <span><strong>AI/ML Services</strong></span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%); border-color: #7b1fa2;"></div>
                <span><strong>Storage & Monitoring</strong></span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #fff9f0; border-color: #ff9900;"></div>
                <span><strong>AWS Region</strong></span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #e8f4fd; border-color: #1976d2;"></div>
                <span><strong>External Systems</strong></span>
            </div>
        </div>
    </div>
</body>
</html>
